<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mes.common.modal.service.impl.OperationMapper">


	<select id="selectOperationList"
		parameterType="mes.common.modal.service.OperationVO"
		resultType="mes.common.modal.service.OperationVO">
		SELECT * FROM (
		SELECT A.*, ROWNUM RNUM FROM (

		select *
		from operation
		
		<if test="operCode != null and operCode != ''">
		<![CDATA[	
			where to_number(substr(oper_code,6)) >  to_number(substr(#{operCode},6))
		]]>
		</if>
			<![CDATA[ 				
		) A WHERE ROWNUM <= 10 )
	]]>

	</select>








	<select id="selectItemList"
		parameterType="mes.common.modal.service.ItemVO"
		resultType="mes.common.modal.service.ItemVO">
		SELECT * FROM (
		SELECT A.*, ROWNUM RNUM FROM (

		select itm_code,
		itm_name, itm_size
		from item
		
		<if test="itmCode != null and itmCode != ''">
							<![CDATA[	
								and itm_code < ${itmCode}
							]]>
		</if>
			<![CDATA[					
		) A WHERE ROWNUM <= 10 )
	]]>
	</select>






	<select id="selectProcessList"
		parameterType="mes.common.modal.service.ProcessVO"
		resultType="mes.common.modal.service.ProcessVO">
		SELECT * FROM (
		SELECT A.*, ROWNUM RNUM FROM (

		select prc_code,
		prc_name, prc_note
		from process
		
		<if test="prcCode != null and prcCode != ''">
							<![CDATA[	
								and prc_code < ${prcCode}
							]]>
		</if>
		
			
			<![CDATA[					
		) A WHERE ROWNUM <= 10 )
	]]>
	</select>





	<select id="selectMaterialList"
		parameterType="mes.common.modal.service.MaterialVO"
		resultType="mes.common.modal.service.MaterialVO">
		SELECT * FROM (
		SELECT A.*, ROWNUM RNUM FROM (

		select m.mat_code,
		m.mat_name, m.mat_size, i.operation_name
		from material m, item i
		
		<if test="matCode != null and matCode != ''">
							<![CDATA[	
								and mat_code < ${matCode}
							]]>
		</if>
			
			<![CDATA[					
		) A WHERE ROWNUM <= 10 )
	]]>
	</select>







	<select id="selectMachineList"
		parameterType="mes.common.modal.service.MachineVO"
		resultType="mes.common.modal.service.MachineVO">
		SELECT * FROM (
		SELECT A.*, ROWNUM RNUM FROM (

		select mac_code,
		mac_name, mac_div, mac_size
		from machine
		
		<if test="macCode != null and macCode != ''">
							<![CDATA[	
								and mac_code < ${macCode}
							]]>
		</if>
			
			<![CDATA[					
		) A WHERE ROWNUM <= 10 )
	]]>
	</select>
	<!-- -->
</mapper>
